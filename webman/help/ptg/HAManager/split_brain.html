<!DOCTYPE html>
<html class="img-no-display">
 <head>
<link href="../../help.css" type="text/css" rel="stylesheet" />
<link href="../../scrollbar/flexcroll.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="../../scrollbar/flexcroll.js"></script>
<script type="text/javascript" src="../../scrollbar/initFlexcroll.js"></script>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>High Availability</title>


 </head>
 <body>
<h2>Split-brain</h2>

<p>Quando um cluster de high-availability estiver a funcionar normalmente, s&oacute; um dos servidores membros dever&aacute; ser o servidor activo. Neste caso, o servidor passivo detecta a presen&ccedil;a do servidor activo atrav&eacute;s da liga&ccedil;&atilde;o Heartbeat e da liga&ccedil;&atilde;o de dados.</p>

<p>Se todas as liga&ccedil;&otilde;es Heartbeat e de dados forem perdidas, os dois servidores poder&atilde;o tentar assumir a fun&ccedil;&atilde;o do servidor activo. Esta situa&ccedil;&atilde;o &eacute; denominada como erro de &quot;split-brain&quot;. Neste caso, as liga&ccedil;&otilde;es para o endere&ccedil;o de IP atribu&iacute;do ao cluster de high-availability ser&atilde;o redireccionadas para um dos dois servidores, causando erros de servi&ccedil;o.</p>
        
<h4>Em caso de erro de split-brain:</h4>
	<ol>
		<li>As liga&ccedil;&otilde;es para o endere&ccedil;o de IP do cluster ser&atilde;o redireccionadas para qualquer um dos servidores, causando erros de servi&ccedil;o. Ter&aacute; dificuldade em ligar-se a qualquer servidor.</li>
		<li>O sistema detecta o erro de split-brain e remove o cluster de high-availability, desassociando ambos os servidores.</li>
		<li>Quando ambos os servidores regressarem ao estado <b>Aut&oacute;nomo</b>, poder&aacute; iniciar sess&atilde;o no DiskStation Manager (DSM). Nesta altura, os dados acumulados antes da remo&ccedil;&atilde;o do cluster de high-availability ser&atilde;o mantidos em ambos os servidores. Depois de identificar que servidores cont&ecirc;m os dados mais actualizados, pode associar novamente os servidores para criar novamente um cluster de high-availability.</li>
	</ol>
 </body>
</html>
